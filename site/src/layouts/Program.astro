---
import Base from './Base.astro';

export interface Props {
  title: string;
  name: string;
  description: string;
  pythonFile: string;
}

const { title, name, description, pythonFile } = Astro.props;
const base = import.meta.env.BASE_URL.replace(/\/$/, '');
---
<Base title={title} bodyClass="program-page">
  <main class="program-shell">
    <div class="program-header">
      <h1>{name}</h1>
      <p class="description" set:html={description} />
    </div>
    <div class="canvas-container">
      <canvas id="program-canvas" width="800" height="500"></canvas>
    </div>
    <div class="program-footer">
      <span>Click to restart &middot; animation runs automatically</span>
      <a
        href={`https://github.com/bertybaums/Claude-decides-website/blob/main/Claude-decides/made/${pythonFile}`}
        target="_blank"
        rel="noopener"
      >View Python source on GitHub &rarr;</a>
    </div>
  </main>

  <script src={`${base}/scripts/${name}.js`} type="module"></script>
</Base>

<style>
  .canvas-container canvas {
    cursor: pointer;
  }
</style>
